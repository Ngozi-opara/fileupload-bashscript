# fileupload-bashscript

## S3 File Uploader Script
This README provides a comprehensive guide to setting up and using an S3 file uploader script on Ubuntu. It includes instructions for configuring AWS CLI, creating IAM users, and setting up S3 buckets via both the AWS Management Console.

## Prerequisites
1. An AWS account
2. Ubuntu operating system
3. Basic knowledge of command-line operations

## Table of Contents
1. Installing AWS CLI
2. Creating IAM Users (AWS Management Console)
3. Creating S3 Buckets (AWS Management Console)
4. Configuring AWS CLI
5. Create a Bash Script
6. Uploading Files to S3
7. Troubleshooting
    
### 1. Installing AWS CLI
Update your package list and install prerequisites:

`sudo apt update`
`sudo apt install awscli`

### 2. Creating IAM Users (AWS Management Console)
#### Log in to the AWS Management Console:

1. Go to AWS Management Console.
2. Sign in with your credentials.
3. Navigate to the IAM service:

4. In the search bar, type "IAM" and select the IAM service.
Create a new user:

5. Click on "Users" in the sidebar.
6. Click on the "Add user" button.
7. Enter a username.
8. Select the "Provide user access to the AWS Management Console" option.
9. Select "I want to create an IAM user" option.
10. Make an autogenerated password or a custom password.
11. Add User to existing groups with the policies you want them to access or create a new group and add them to the group.
12. If you create a new group, attach the AmazonS3FullAccess policy (or create a custom policy if needed).

#### Review and create the user:

1. Click "Next: Review".
2. Click "Create user".
3. Download .csv file with the console sign-in details as that is the only time you can get it.
4. Return to users list and select newly created user.
5. Select "security credentials" and scroll down to the "Access Key" section.
6. Click on "create access key."
7. Choose the "Command Line Interface" use case as you will be using this key in your command line.
8. Choose a tag name (optional).
9. Click on "create access key" and download .csv of access key credentials.
#### Note the Access Key ID and Secret Access Key for configuring the AWS CLI.

### 3. Creating S3 Buckets (AWS Management Console)
1. Go to AWS Management Console.
2. In the search bar, type "S3" and select the S3 service.
   
#### Create a new bucket:

1. Click on the "Create bucket" button.
2. Enter a unique bucket name.
3. Select the desired region.
4. Configure other settings as needed (e.g., Block Public Access, Versioning).
5. Click "Create bucket".
6. Creating S3 Buckets (Command Line)
7. Create a new bucket using AWS CLI:

### 4. Configuring AWS CLI
#### Configure your AWS credentials:
`aws configure`
You will be prompted to enter the following:

AWS Access Key ID
AWS Secret Access Key
Default region name (e.g., us-east-1)
Default output format (e.g., json)

#### Verify your configuration:
`aws sts get-caller-identity`

### 5. Create a Bash Script
1. Open your favorite text editor (like nano, vim, or gedit) to create your bash script.
`nano upload_to_s3.sh`
2. Copy script and paste in script file.
3. Make the script executable with: `chmod +x upload_to_s3.sh`

### 6. Uploading Files to S3
Use the following command to upload files to your S3 bucket: `./upload_to_s3.sh <file_path> <bucket_name>`


### 7. Troubleshooting
#### RequestTimeTooSkewed Error
If you encounter the `RequestTimeTooSkewed` error, it means there is a significant time difference between your local machine and the AWS servers. To fix this, synchronize your system time:

#### Install ntpdate:

`sudo apt update`
`sudo apt install ntpdate`

#### Synchronize the time:

`sudo ntpdate time.google.com`

#### Verify time synchronization:

`date`

#### Additional Help
For additional help and troubleshooting, refer to the AWS CLI documentation.

By following this guide, you will be able to set up and use the S3 file uploader script on Ubuntu. If you encounter any issues, feel free to seek help from the AWS support community or documentation.
